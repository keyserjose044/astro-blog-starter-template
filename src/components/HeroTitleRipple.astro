---
// src/components/HeroTitleRipple.astro

export interface Props {
  as?: string;      // h1, h2, div, span, etc.
  class?: string;   // extra classes from parent
}

const { as = 'h1', class: className = '', ...rest } = Astro.props;
const Tag = as as keyof HTMLElementTagNameMap;
---

<Tag
  class={`hero-title-ripple ${className}`.trim()}
  tabindex="0"
  {...rest}
>
  <span class="hero-title-inner">
    <slot />
  </span>
</Tag>

<style>
  .hero-title-ripple {
    display: inline-block;
    cursor: pointer;
    position: relative;
  }

  .hero-title-inner {
    position: relative;
    display: inline-block;
    transition:
      transform 0.2s ease-out,
      text-shadow 0.2s ease-out;
  }

  /* Pop + slight lift on hover/focus */
  .hero-title-ripple:hover .hero-title-inner,
  .hero-title-ripple:focus-visible .hero-title-inner {
    transform: translateY(-3px) scale(1.04);
    text-shadow: 0 6px 14px rgba(0, 0, 0, 0.25);
  }

  /* Gleam effect */
  .hero-title-inner::after {
    content: '';
    position: absolute;
    top: 0;
    left: -130%;
    width: 45%;
    height: 100%;
    pointer-events: none;
    background: linear-gradient(
      120deg,
      transparent 0%,
      rgba(255, 255, 255, 0.8) 40%,
      rgba(255, 255, 255, 0) 100%
    );
    opacity: 0;
    transform: skewX(-20deg);
  }

  .hero-title-ripple:hover .hero-title-inner::after,
  .hero-title-ripple:focus-visible .hero-title-inner::after {
    animation: hero-gleam 0.7s ease-out;
  }

  @keyframes hero-gleam {
    0% {
      left: -130%;
      opacity: 0;
    }
    10% {
      opacity: 1;
    }
    100% {
      left: 140%;
      opacity: 0;
    }
  }

  /* Click “jolt” + light shake on outer wrapper */
  .hero-title-ripple:active {
    animation: hero-shake 0.22s ease-out;
  }

  @keyframes hero-shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(-2px);
    }
    50% {
      transform: translateX(2px);
    }
    75% {
      transform: translateX(-1px);
    }
    100% {
      transform: translateX(0);
    }
  }
</style>
