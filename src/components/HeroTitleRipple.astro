---
// src/components/HeroTitleRipple.astro

export interface Props {
  as?: string;      // h1, h2, div, span, etc.
  class?: string;   // extra classes from parent
}

const { as = 'h1', class: className = '', ...rest } = Astro.props;
const Tag = as as keyof HTMLElementTagNameMap;
---

<Tag
  class={`hero-title-ripple ${className}`.trim()}
  tabindex="0"
  {...rest}
>
  <span class="hero-title-inner">
    <slot />
  </span>
</Tag>

<style>
  .hero-title-ripple {
    display: inline-block;
    cursor: pointer;
    position: relative;
  }

  .hero-title-inner {
    position: relative;
    display: inline-block;
    transition:
      transform 0.2s ease-out,
      text-shadow 0.2s ease-out;
  }

  /* Pop + slight lift on hover/focus */
  .hero-title-ripple:hover .hero-title-inner,
  .hero-title-ripple:focus-visible .hero-title-inner {
    transform: translateY(-3px) scale(1.04);
    text-shadow: 0 6px 14px rgba(0, 0, 0, 0.25);
  }
  
  /* Gleam effect â€” stronger, brighter, wider */
  .hero-title-inner::after {
    content: '';
    position: absolute;
    top: 0;
    left: -150%;
    width: 70%;            /* wider shine */
    height: 100%;
    pointer-events: none;
    background: linear-gradient(
      120deg,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 255, 255, 0.95) 35%,
      rgba(255, 255, 255, 0.6) 55%,
      rgba(255, 255, 255, 0) 100%
    );
    opacity: 0;
    transform: skewX(-20deg);
  }
  
  .hero-title-ripple:hover .hero-title-inner::after,
  .hero-title-ripple:focus-visible .hero-title-inner::after {
    animation: hero-gleam 0.7s ease-out;
  }
  
  @keyframes hero-gleam {
    0% {
      left: -150%;
      opacity: 0;
    }
    10% {
      opacity: 1;          /* brighter at the start */
    }
    60% {
      opacity: 0.9;
    }
    100% {
      left: 150%;
      opacity: 0;
    }
  }
</style>
